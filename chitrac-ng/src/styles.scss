@use '@angular/material' as mat;
@use './themes/chitrac-styleguide-dark';
@use './app/blanket-blaster/lane-common.scss';

@include mat.core();
// mat.$theme-ignore-duplication-warnings: true;
$theme-ignore-duplication-warnings: true;
$darkest-dark-theme: 20;
$dark-theme:  chitrac-styleguide-dark.$dark-theme;
$light-theme: chitrac-styleguide-dark.$light-theme;

$testcolor2: mat.get-theme-color($light-theme, primary, 60);

@mixin create-dark-theme() {
  @include mat.all-component-themes($dark-theme);

}

@mixin create-light-theme() {
  @include mat.all-component-themes(chitrac-styleguide-dark.$light-theme);
}

:root {
  --theme-icon-invert: 0; /* default for light mode */
}

body.dark-theme {
  --theme-icon-invert: 1; /* full invert for dark mode */
}


.dark-theme {
  @include create-dark-theme();
  --mat-sidenav-container-shape: 0px; //unround the sidenav corners
  --mat-list-active-indicator-shape: 0px; //unround sidenav hover corners
  //--theme-color-primary: #{mat.get-theme-color($dark-theme, primary)};
  --theme-color-primary-lightest: #{mat.get-theme-color($dark-theme, primary, 60)};
  --theme-color-primary-middle: #{mat.get-theme-color($dark-theme, primary, 40)};
  --theme-color-primary-darkest: #{mat.get-theme-color($dark-theme, primary, 20)};
  --theme-color-primary: #00A6E7;
  --theme-color-background: #0C141E;
  --theme-color-blue-gray-light-300: #1F2832;
  --theme-color-on-primary: #{mat.get-theme-color($dark-theme, on-primary)};
  --theme-color-secondary-middle: #{mat.get-theme-color($dark-theme, secondary, 40)};
  --theme-color-secondary-container: #{mat.get-theme-color($dark-theme, secondary-container)};
  --theme-color-on-secondary: #{mat.get-theme-color($dark-theme, on-secondary)};
  --theme-color-surface: #{mat.get-theme-color($dark-theme, surface)};
  --theme-color-surface-container: #{mat.get-theme-color($dark-theme, surface-container)};
  --theme-color-surface-bright: #{mat.get-theme-color($dark-theme, surface-bright)};
  --theme-color-on-surface-variant: #{mat.get-theme-color($dark-theme, on-surface-variant)};

  /* Direct theme color overrides*/
  --mat-sort-arrow-color: #{mat.get-theme-color($dark-theme, on-primary)};

  /*--mat-dialog-container-min-width: 350px;*/

  --sg-primary-blue: #00A6E7;
  --sg-bright-blue: #28CEff;
  --sg-dark-blue: #E0EAF4;

  --sg-blue-gray-light-100: #5A646E;
  --sg-blue-gray-light-200: #28323C;
  --sg-blue-gray-light-300: #1E2832;
  --sg-blue-gray-light-400: #646E78;
  --sg-blue-gray-light-500: #37414B;

  --sg-blue-gray-medium-100: #838D99;
  --sg-blue-gray-medium-200: #505A64;
  --sg-blue-gray-medium-300: #46505A;
  --sg-blue-gray-medium-400: #384E7C;
  --sg-blue-gray-medium-500: #EFF5FC;
  --sg-blue-gray-medium-600: #465567;
  
  --sg-background: #0A141E;

  --sg-green: #39B276;
  --sg-orange: #FB950B;
  --sg-red: #F1310A;
  --sg-light-red: #62312E;
  --sg-yellow: #FFCE0A;

  --sg-white: #FFFFFF;
  --sg-black: #F5F5F5;
  --sg-medium-gray-neutral: #525252;

}

.dark-theme .error-dialog {
  --mdc-dialog-container-color: #{mat.get-theme-color($dark-theme, error-container)};
  //--mdc-dialog-color: #{mat.get-theme-color($dark-theme, error-on-container)}; //unsure why this started causing issues, need to resolve and uncomment
}

.light-theme {
  @include create-light-theme();
  --mat-sidenav-container-shape: 0px; //unround the sidenav corners
  --mat-list-active-indicator-shape: 0px; //unround sidenav hover corners
  --theme-color-primary: #{mat.get-theme-color($light-theme, primary)};
  --theme-color-primary-lightest: #{mat.get-theme-color($light-theme, primary, 80)};
  --theme-color-primary-middle: #{mat.get-theme-color($light-theme, primary, 60)};
  --theme-color-primary-darkest: #{mat.get-theme-color($light-theme, primary, 40)};
  --theme-color-on-primary: #{mat.get-theme-color($light-theme, on-primary)};
  --theme-color-secondary-middle: #{mat.get-theme-color($light-theme, secondary, 70)};
  --theme-color-secondary-container: #{mat.get-theme-color($light-theme, secondary-container)};
  --theme-color-on-secondary: #{mat.get-theme-color($light-theme, on-secondary)};
  --theme-color-surface: #{mat.get-theme-color($light-theme, surface)};
  --theme-color-surface-container: #{mat.get-theme-color($light-theme, surface-container)};
  --theme-color-surface-bright: #{mat.get-theme-color($light-theme, surface-dim)};
  --theme-color-on-surface-variant: #{mat.get-theme-color($light-theme, on-surface-variant)};

  /* Direct theme color overrides*/
  --mat-sort-arrow-color: #{mat.get-theme-color($light-theme, on-primary)};

  --sg-primary-blue: #253D6F;
  --sg-bright-blue: #00A4E6;
  --sg-dark-blue: #223042;

  --sg-blue-gray-light-100: #F7F8FC;
  --sg-blue-gray-light-200: #F0F2FA;
  --sg-blue-gray-light-300: #EEF0F9;
  --sg-blue-gray-light-400: #E3E7F5;
  --sg-blue-gray-light-500: #E9EBF0;

  --sg-blue-gray-medium-100: #5D6774;
  --sg-blue-gray-medium-200: #C7CEEB;
  --sg-blue-gray-medium-300: #9DA9DC;
  --sg-blue-gray-medium-400: #949DB7;
  --sg-blue-gray-medium-500: #7D8590;
  --sg-blue-gray-medium-600: #BABEC4;
  
  --sg-background: #0A141E;

  --sg-green: #3FAB6C;
  --sg-orange: #EA8B1B;
  --sg-red: #DF1516;
  --sg-light-red: #FCE5E7;
  --sg-yellow: #F2BD00;

  --sg-white: #FFFFFF;
  --sg-black: #000000;
  --sg-medium-gray-neutral: #B4B4B4;
}

.light-theme .errgb(117, 128, 143)log {
  --mdc-dialog-container-color: #{mat.get-theme-color($light-theme, error-container)};
}


html, body { height: 100%; }
body { margin: 0;}
a {text-decoration: none; color:inherit;}

#OperatorConfigDialog {
  overflow: hidden;
}

/* Chrome, Safari, Edge, Opera */
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Firefox */
input[type=number] {
  -moz-appearance: textfield;
}

/* Custom modal styling */
.custom-modal-panel .mat-dialog-container {
  border-radius: 12px;
  padding: 0;
  background-color: var(--background-color);
  color: var(--text-color);
}

.cdk-overlay-container {
  overflow-y: hidden !important;
}

body.cdk-global-scrollblock {
  overflow: hidden !important;
}

/* Performance Chart Dialog Styles */
.performance-chart-dialog {
  height: 100%;

  .mat-mdc-dialog-container {
    height: 100%;
    display: flex;
    flex-direction: column;
    padding: 0;
    border-radius: 8px;
    overflow: hidden;
  }

  .mat-mdc-dialog-surface {
    height: 100%;
    display: flex;
    flex-direction: column;
    border-radius: 8px;
    overflow: hidden;
  }
}


/* DEBUG: Outline all modal and fault history containers */
// .modal-wrapper,
// .container,
// .scroll-wrapper,
// .cdk-overlay-pane,
// .mat-dialog-container {
//   outline: 2px solid red !important;
//   overflow-x: visible !important;
//   min-width: 0 !important;
//   max-width: 100vw !important;
//   box-sizing: border-box !important;
// }

/* Hide vertical scrollbar for modal and carousel */
.modal-wrapper,
.carousel-container,
.cdk-overlay-pane,
.mat-dialog-container,
body,
html {
  // overflow-y: hidden !important;
}

.modal-wrapper::-webkit-scrollbar,
.carousel-container::-webkit-scrollbar,
.cdk-overlay-pane::-webkit-scrollbar,
.mat-dialog-container::-webkit-scrollbar,
body::-webkit-scrollbar,
html::-webkit-scrollbar {
  // display: none !important;
}

::ng-deep .performance-chart-dialog .mat-dialog-container {
  padding: 0;
  border-radius: 8px;
  // overflow: hidden;
}


body.light-theme {
  --theme-icon-invert: 0;
}

body.dark-theme {
  --theme-icon-invert: 1;
}


.sidenav .mat-list-item mat-icon {
  margin-right: 0.5em;
}

::ng-deep .mat-mdc-menu-panel.date-menu-wrapper {
  min-width: unset !important;
  max-width: unset !important;
  width: auto !important;
}



html, body {
  margin: 0;
  height: 100%;
  overflow: hidden;
}

//for the efficiency screens
.mat-drawer-transition .mat-drawer-content {
  overflow-y: hidden !important;
}

// Additional Material Design drawer overrides to prevent scrollbars
::ng-deep .mat-drawer-container {
  overflow: hidden !important;
}

::ng-deep .mat-drawer-content {
  overflow: hidden !important;
}

::ng-deep .mat-sidenav-container {
  overflow: hidden !important;
}
