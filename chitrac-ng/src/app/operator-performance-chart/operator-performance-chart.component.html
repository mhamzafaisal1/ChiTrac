<div class="container" [ngClass]="{ 'dark-mode': isDarkTheme, 'light-mode': !isDarkTheme }">


  <div class="error" *ngIf="error">{{ error }}</div>

  <div class="chart-wrapper">
    <div class="chart-container" *ngIf="chartData">
      <h2>Operator Performance Chart</h2>
      <div *ngIf="machineSerial" class="machine-info">
        Machine Serial: {{machineSerial}}
      </div>

      <div class="time-controls">
        <mat-form-field>
          <mat-label>Start Time</mat-label>
          <input matInput type="datetime-local" [(ngModel)]="startTime" (change)="fetchData()">
        </mat-form-field>

        <mat-form-field>
          <mat-label>End Time</mat-label>
          <input matInput type="datetime-local" [(ngModel)]="endTime" (change)="fetchData()">
        </mat-form-field>
      </div>

      <div *ngIf="loading" class="loading">
        Loading data...
      </div>

      <div *ngIf="chartData && !loading" class="chart">
        <app-multiple-line-chart
          [data]="chartData"
          [isDarkTheme]="isDarkTheme">
        </app-multiple-line-chart>
      </div>
    </div>

    <div class="chart-placeholder" *ngIf="!chartData">
      <p>Please fetch data to display chart.</p>
    </div>
  </div>
</div>
