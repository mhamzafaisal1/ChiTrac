<div class="date-time-menu">
  <div class="picker-section">
    <!-- Start Date -->
    <mat-form-field>
      <mat-label>Start Date</mat-label>
      <input matInput [matDatepicker]="startPicker" [(ngModel)]="startDateTime" [disabled]="isDisabled()" />
      <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
      <mat-datepicker #startPicker></mat-datepicker>
    </mat-form-field>

    <!-- Start Time -->
    <mat-form-field>
      <mat-label>Start Time</mat-label>
      <input matInput [matTimepicker]="startTimePicker" [(ngModel)]="startDateTime" [disabled]="isDisabled()" />
      <mat-timepicker-toggle matSuffix [for]="startTimePicker"></mat-timepicker-toggle>
      <mat-timepicker #startTimePicker></mat-timepicker>
    </mat-form-field>

    <!-- End Date -->
    <mat-form-field>
      <mat-label>End Date</mat-label>
      <input matInput [matDatepicker]="endPicker" [(ngModel)]="endDateTime" [disabled]="isDisabled()" />
      <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
      <mat-datepicker #endPicker></mat-datepicker>
    </mat-form-field>

    <!-- End Time -->
    <mat-form-field>
      <mat-label>End Time</mat-label>
      <input matInput [matTimepicker]="endTimePicker" [(ngModel)]="endDateTime" [disabled]="isDisabled()" />
      <mat-timepicker-toggle matSuffix [for]="endTimePicker"></mat-timepicker-toggle>
      <mat-timepicker #endTimePicker></mat-timepicker>
    </mat-form-field>
  </div>

  <div class="divider"></div>

  <div class="mode-section">
    <mat-radio-group [(ngModel)]="mode" (change)="onModeChange(mode)">
      <mat-radio-button value="live">Live Mode</mat-radio-button>
      <mat-radio-button value="manual">Manual</mat-radio-button>
    </mat-radio-group>
    
    <div class="timeframe-section">
      <h4>Quick Select</h4>
      <div class="timeframe-buttons">
        <button 
          mat-stroked-button 
          [class.selected]="selectedTimeframe === 'current'"
          (click)="onTimeframeSelect('current')"
          [disabled]="mode === 'live'">
          Current (6 min)
        </button>
        <button 
          mat-stroked-button 
          [class.selected]="selectedTimeframe === 'lastFifteen'"
          (click)="onTimeframeSelect('lastFifteen')"
          [disabled]="mode === 'live'">
          Last 15 Min
        </button>
        <button 
          mat-stroked-button 
          [class.selected]="selectedTimeframe === 'lastHour'"
          (click)="onTimeframeSelect('lastHour')"
          [disabled]="mode === 'live'">
          Last Hour
        </button>
        <button 
          mat-stroked-button 
          [class.selected]="selectedTimeframe === 'today'"
          (click)="onTimeframeSelect('today')"
          [disabled]="mode === 'live'">
          Today
        </button>
        <button 
          mat-stroked-button 
          [class.selected]="selectedTimeframe === 'thisWeek'"
          (click)="onTimeframeSelect('thisWeek')"
          [disabled]="mode === 'live'">
          This Week
        </button>
        <button 
          mat-stroked-button 
          [class.selected]="selectedTimeframe === 'thisMonth'"
          (click)="onTimeframeSelect('thisMonth')"
          [disabled]="mode === 'live'">
          This Month
        </button>
        <button 
          mat-stroked-button 
          [class.selected]="selectedTimeframe === 'thisYear'"
          (click)="onTimeframeSelect('thisYear')"
          [disabled]="mode === 'live'">
          This Year
        </button>
      </div>
    </div>
  </div>

  <div class="action-row">
    <button mat-flat-button color="primary" (click)="confirm()">
      <mat-icon>done</mat-icon>
      Confirm
    </button>
  </div>
</div>
