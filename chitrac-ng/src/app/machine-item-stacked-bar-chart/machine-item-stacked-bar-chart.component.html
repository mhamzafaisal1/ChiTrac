<div class="chart-container" [class.dark-mode]="isDarkTheme">
  <div class="controls" *ngIf="!isModal">
    <app-date-time-picker label="Start Time" [(value)]="startTime"></app-date-time-picker>
    <app-date-time-picker label="End Time" [(value)]="endTime"></app-date-time-picker>
    
    <div class="input-group">
      <label>
        Machine Serial:
        <input type="text" [(ngModel)]="machineSerial" />
      </label>
    </div>

    <div class="button-group">
      <button mat-flat-button color="primary" (click)="fetchData()" [disabled]="!isValid()">
        Fetch Chart
      </button>
    </div>
  </div>

  <div class="chart-content">
    <div *ngIf="loading" class="loading">Loading chart data...</div>
    <div *ngIf="error" class="error">{{ error }}</div>
    <app-stacked-bar-chart
      *ngIf="chartData"
      [data]="chartData"
      mode="time"
    ></app-stacked-bar-chart>
  </div>
</div>
  