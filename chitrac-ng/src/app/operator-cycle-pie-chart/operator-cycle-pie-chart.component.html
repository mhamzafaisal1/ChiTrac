<div class="chart-container" [class.dark-mode]="isDarkTheme">
  <div class="controls">
    <app-date-time-picker [(value)]="startTime" label="Start Time"></app-date-time-picker>
    <app-date-time-picker [(value)]="endTime" label="End Time"></app-date-time-picker>
    <mat-form-field>
      <mat-label>Operator ID</mat-label>
      <input matInput type="number" [(ngModel)]="operatorId" placeholder="Enter operator ID">
    </mat-form-field>
    <div class="button-group">
      <button  mat-flat-button color="primary" (click)="fetchData()" [disabled]="!startTime || !endTime">
        Fetch Data
      </button>
    </div>
  </div>

  <div class="chart-content">
    <div *ngIf="loading" class="loading">Loading...</div>
    <div *ngIf="error" class="error">{{ error }}</div>
    <div *ngIf="!loading && !error && pieData.length === 0" class="no-data">No data available</div>
    <div *ngIf="!loading && !error && pieData.length > 0" class="data-display">
      <div class="chart-wrapper">
        <h3 class="chart-title">{{ title }}</h3>
        <pie-chart [data]="pieData" [title]="title"></pie-chart>
      </div>
    </div>
  </div>
</div>
